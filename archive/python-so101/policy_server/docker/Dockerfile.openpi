# Minimal example; you may prefer running OpenPI outside Docker for GPU perf.
FROM nvidia/cuda:12.4.1-cudnn-runtime-ubuntu22.04
RUN apt-get update && apt-get install -y git python3 python3-pip && rm -rf /var/lib/apt/lists/*
RUN pip3 install uv
RUN git clone --recurse-submodules https://github.com/Physical-Intelligence/openpi.git /opt/openpi
WORKDIR /opt/openpi
RUN uv pip install -e .
CMD ["uv", "run", "scripts/serve_policy.py", "policy:checkpoint", "--policy.config=pi0_fast_droid", "--policy.dir=/root/.cache/openpi/checkpoints/pi0_fast_droid", "--server.host=0.0.0.0", "--server.port=8080"]